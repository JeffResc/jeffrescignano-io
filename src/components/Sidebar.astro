---
const { selectedItem } = Astro.props;
---

<aside
  data-animation="default"
  data-collapse="medium"
  data-duration="400"
  data-easing="ease"
  data-easing2="ease"
  role="banner"
  class="sidebar w-nav"
>
  <div class="nav-content">
    <a href="/" class="w-nav-brand" aria-label="home">
      <div class="niv-data">
        <img
          src="/assets/jeff.jpg"
          loading="eager"
          alt="Profile picture"
          class="niv-image"
        />
        <div>
          <div class="label-white">Jeff Rescignano</div>
          <div class="label-gray">Platform Engineer</div>
        </div>
      </div>
    </a>

    <nav role="navigation" class="w-nav-menu">
      <a
        href="/"
        class={`nav-link-container w-inline-block ${
          selectedItem === 'home' ? 'w--current' : ''
        }`}
      >
        <i class="fas fa-home nav-link-image" aria-hidden="true"></i>
        <div>Home</div>
      </a>
      <a
        href="/blog"
        class={`nav-link-container w-inline-block ${
          selectedItem === 'blog' ? 'w--current' : ''
        }`}
      >
        <i class="fas fa-feather-pointed nav-link-image" aria-hidden="true"></i>
        <div>Blog</div>
      </a>
      <a
        href="/media-mentions"
        class={`nav-link-container w-inline-block ${
          selectedItem === 'media-mentions' ? 'w--current' : ''
        }`}
      >
        <i class="fas fa-newspaper nav-link-image" aria-hidden="true"></i>
        <div>Media Mentions</div>
      </a>
      <a
        href="/certifications"
        class={`nav-link-container w-inline-block ${
          selectedItem === 'certifications' ? 'w--current' : ''
        }`}
      >
        <i class="fas fa-certificate nav-link-image" aria-hidden="true"></i>
        <div>Certifications</div>
      </a>
      <a
        href="https://github.com/JeffResc"
        class="nav-link-container w-inline-block"
        target="_blank"
        rel="noopener noreferrer"
      >
        <i class="fas fa-brands fa-github nav-link-image" aria-hidden="true"></i>
        <div>GitHub</div>
        <i class="fa-solid fa-up-right-from-square nav-link-image" aria-hidden="true"></i>
      </a>
      <a
        href="https://www.linkedin.com/in/jeffrey-rescignano/"
        class="nav-link-container w-inline-block"
        target="_blank"
        rel="noopener noreferrer"
      >
        <i class="fas fa-brands fa-linkedin nav-link-image" aria-hidden="true"></i>
        <div>LinkedIn</div>
        <i class="fa-solid fa-up-right-from-square nav-link-image" aria-hidden="true"></i>
      </a>
      <a
        href="https://charts.jeffresc.dev/"
        class="nav-link-container w-inline-block"
        target="_blank"
        rel="noopener noreferrer"
      >
        <i class="fas fa-anchor nav-link-image" aria-hidden="true"></i>
        <div>Helm Charts</div>
        <i class="fa-solid fa-up-right-from-square nav-link-image" aria-hidden="true"></i>
      </a>
      <a
        href="https://as212802.net/"
        class="nav-link-container w-inline-block"
        target="_blank"
        rel="noopener noreferrer"
      >
        <i class="fas fa-circle-nodes nav-link-image" aria-hidden="true"></i>
        <div>AS212802</div>
        <i class="fa-solid fa-up-right-from-square nav-link-image" aria-hidden="true"></i>
      </a>
    </nav>

    <div
      class="navbar-icon-button w-nav-button"
      style="-webkit-user-select: text;"
      aria-label="menu"
      role="button"
      tabindex="0"
    >
      <i class="fas fa-bars navbar-icon" aria-hidden="true"></i>
    </div>
  </div>

  <script>
    import { setupNav } from '../scripts/nav.js';
    
    let cleanup;
    document.addEventListener('astro:page-load', () => {
      if (cleanup) cleanup();
      cleanup = setupNav();
    });

    document.addEventListener('astro:before-swap', () => {
      if (cleanup) cleanup();
    });
  </script>
</aside>
